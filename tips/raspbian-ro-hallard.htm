<article class="clearfix post-1006 post type-post status-publish format-standard has-post-thumbnail hentry category-linux category-raspberry category-tutorial tag-card tag-end tag-filesystem tag-life tag-log tag-mount tag-of tag-only tag-pi tag-protection tag-raspberry-2 tag-read tag-rootfs tag-sd tag-secure" id="post-1006">
	<header class="entry-header">
				<span class="comments-link"> <a href="https://hallard.me/raspberry-pi-read-only/#comments">26</a></span>
		
		<h1 class="entry-title">Protect your Raspberry PI SD card, use Read-Only filesystem</h1>

		<div class="entry-meta">
			<span class="posted-on">Posted on <a title="18:50" href="https://hallard.me/raspberry-pi-read-only/" rel="bookmark"><time class="entry-date published updated" datetime="2015-05-14T18:50:12+01:00">May 14, 2015</time></a></span><span class="byline"> by <span class="author vcard"><a title="View all posts by Charles" class="url fn n" href="https://hallard.me/author/hallard/">Charles</a></span></span>		<!-- .entry-meta --></div>
	<!-- .entry-header --></header>

			

	<div class="clearfix entry-content">
		<p>Today I decided to protect all my Raspberry Pi SD cards from unproper shutdown and also prevent SD card premature end of life. This means protect them from power outage or just unplugging the power while the Pi is running.</p>
<p><span style="color: #ff0000;"><strong>Edit :<br>
April 2016 to works on Jessie and Raspberry PI 3<br>
January 2017 Fix SSH access problem after reboot / moved resolv.conf to tmpfs</strong></span></p>
<h1>Why ?</h1>
<p>Most of the time you won’t see or have any incidences when the shutdown is not clean, but depending on what is doing the Pi at this time, you can start to have unpredictable results or data corruption. Also, sometime, applications have really verbose logging and continuously writing log to the SD will for sure bring it to death quicker than expected. SD corruption is not really simple to detect, because sometime it works and sometimes Pi is crashing/blocking and you don’t know why. You have these “hazardous” problems until you decide to change the SD. the worst, is that you were just thinking you done something wrong and searched what you done wrong ? Get time, in doubt, change your SD card first. This is my own experience and as today, I’m on 3 dead SD card.<span id="more-1006"></span></p>
<h1>How ?</h1>
<p>Well, the 1st thing I’ve done was to set some folder into temp file system (log file for example) and write the log files to the SD only every hour (a example). It’s working fine but &nbsp;I wanted to go deeper and have more protection, so searched over Internet people doing with read-only filesystem. I found lot of interesting article with different methods and decided to start with this <a href="http://k3a.me/how-to-make-raspberrypi-truly-read-only-reliable-and-trouble-free/" target="_blank" rel="noopener noreferrer">one</a>&nbsp;from k3a, really thanks to him.</p>
<h1>Requirement, do it or not ?</h1>
<p>Using a read-only file system is mostly used for Pi working 24H/7 a day and with console mode only, so if you’re using X11 or graphic interface, I won’t recommend this method because it won’t work. May be there are some other but it’s not on this article scope. So when you want you’re Pi in read-only mode it’s acting like a server but some server applications are not compatible with read only file system. Mainly database.</p>
<p>So <span style="color: #ff0000;"><strong>if you’re running a database on your&nbsp;Pi, don’t use read-only filesystem</strong></span>. May be again there are some specific build or database to minimize write&nbsp;to SD, but once again it’s not in today’s scope. I see more and more people using mySQL database on Pi claiming it works fine. Sure it works, until you’ll start to face on SD corruption, and I hope they all have a good backup, because we know all, admins always have backup ;).</p>
<p>May be I’m the only one claiming that except if you change only few data a day, you <strong>shouldn’t use a RPi as a 24/7 database engine. </strong>For a pretty rock solid database, use a clouded one or one on a NAS like a Synology with redundant hard disk. It will go so much faster and you’ll get a real reliability. More over you will be able to use your Pi to do action and manage this database, just host your database elsewhere, just my 2 cents.</p>
<h1>Let’s do it</h1>
<p>Okay, I’ve done nothing yet, I’m writing this article while setting my <a href="https://lightberry.eu/getting-started/">Ambilight hyperion</a> Rpi in read only mode and following the K3A&nbsp;article. You need to connect to your Pi with ssh to run the following commands, I’m connecting as root so you won’t see any sudo command (I know, I’m a bad boy!)</p>
<h3>Get to latest current version</h3>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3860d468415822" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick"> apt-get update; apt-get upgrade</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3860d468415822-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3860d468415822-1"><span class="crayon-h"> </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-r">get</span><span class="crayon-h"> </span><span class="crayon-v">update</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-r">get</span><span class="crayon-h"> </span><span class="crayon-v">upgrade</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<h3>Reboot in case of bootloader or kernel version change</h3>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3861c756388045" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">reboot</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3861c756388045-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3861c756388045-1"><span class="crayon-v">reboot</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Wait for reboot and connect back with SSH.</p>
<h3>Remove unwanted package and services files</h3>
<p>The original article removed cron and fake-hwclock, I decided to let it working assuming my Pi will&nbsp;have&nbsp;the correct date (I never had a problem with date) and also have a date at bootup that is more the last known than 1970 year. fake-hwclock will be written at logout and every day</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38621139857726" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">apt-get remove --purge wolfram-engine triggerhappy anacron logrotate dphys-swapfile xserver-common lightdm</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38621139857726-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38621139857726-1"><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-r">get</span><span class="crayon-h"> </span><span class="crayon-v">remove</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">purge </span><span class="crayon-v">wolfram</span><span class="crayon-o">-</span><span class="crayon-e">engine </span><span class="crayon-e">triggerhappy </span><span class="crayon-e">anacron </span><span class="crayon-e">logrotate </span><span class="crayon-v">dphys</span><span class="crayon-o">-</span><span class="crayon-e">swapfile </span><span class="crayon-v">xserver</span><span class="crayon-o">-</span><span class="crayon-e">common </span><span class="crayon-v">lightdm</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38626624946248" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">insserv -r x11-common; apt-get autoremove --purge</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38626624946248-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38626624946248-1"><span class="crayon-v">insserv</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">r</span><span class="crayon-h"> </span><span class="crayon-v">x11</span><span class="crayon-o">-</span><span class="crayon-v">common</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-r">get</span><span class="crayon-h"> </span><span class="crayon-v">autoremove</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">purge</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<h3>Replace log management with busybox one</h3>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3862a416572608" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">apt-get install busybox-syslogd; dpkg --purge rsyslog</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3862a416572608-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3862a416572608-1"><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-r">get</span><span class="crayon-h"> </span><span class="crayon-e">install </span><span class="crayon-v">busybox</span><span class="crayon-o">-</span><span class="crayon-v">syslogd</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">dpkg</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">purge </span><span class="crayon-v">rsyslog</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>This will put log into circular memory buffer, you will able to see log using<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b3862f281782744" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-v">logread</span></span></span><br>
command</p>
<h3>Disable swap and filesystem check and set it to read-only.</h3>
<p>edit the file<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b38634000822200" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">boot</span><span class="crayon-o">/</span><span class="crayon-v">cmdline</span><span class="crayon-sy">.</span><span class="crayon-v">txt</span></span></span><br>
and add the three&nbsp;words<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b38638237994054" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-e">fastboot </span><span class="crayon-e">noswap </span><span class="crayon-v">ro</span></span></span><br>
at the end of the line</p>
<p>mine were (your can be different depending on several options) :</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3863d832224597" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">dwc_otg.lpm_enable=0 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3863d832224597-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3863d832224597-1"><span class="crayon-v">dwc_otg</span><span class="crayon-sy">.</span><span class="crayon-v">lpm_enable</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-v">console</span><span class="crayon-o">=</span><span class="crayon-e">tty1 </span><span class="crayon-v">root</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-e">mmcblk0p2 </span><span class="crayon-v">rootfstype</span><span class="crayon-o">=</span><span class="crayon-e">ext4 </span><span class="crayon-v">elevator</span><span class="crayon-o">=</span><span class="crayon-e">deadline </span><span class="crayon-v">rootwait</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>and now looks like :</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38641330309933" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">dwc_otg.lpm_enable=0 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait fastboot noswap ro</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38641330309933-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38641330309933-1"><span class="crayon-v">dwc_otg</span><span class="crayon-sy">.</span><span class="crayon-v">lpm_enable</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-v">console</span><span class="crayon-o">=</span><span class="crayon-e">tty1 </span><span class="crayon-v">root</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-e">mmcblk0p2 </span><span class="crayon-v">rootfstype</span><span class="crayon-o">=</span><span class="crayon-e">ext4 </span><span class="crayon-v">elevator</span><span class="crayon-o">=</span><span class="crayon-e">deadline </span><span class="crayon-e">rootwait </span><span class="crayon-e">fastboot </span><span class="crayon-e">noswap </span><span class="crayon-v">ro</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p></p>
<h3>Move some system files to temp filesystem</h3>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38645624215649" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">rm -rf /var/lib/dhcp/ /var/lib/dhcpcd5 /var/run /var/spool /var/lock /etc/resolv.conf
ln -s /tmp /var/lib/dhcp
ln -s /tmp /var/lib/dhcpcd5
ln -s /tmp /var/run
ln -s /tmp /var/spool
ln -s /tmp /var/lock
touch /tmp/dhcpcd.resolv.conf; ln -s /tmp/dhcpcd.resolv.conf /etc/resolv.conf</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38645624215649-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b38645624215649-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b38645624215649-3">3</div><div class="crayon-num" data-line="crayon-5e5dfc4b38645624215649-4">4</div><div class="crayon-num" data-line="crayon-5e5dfc4b38645624215649-5">5</div><div class="crayon-num" data-line="crayon-5e5dfc4b38645624215649-6">6</div><div class="crayon-num" data-line="crayon-5e5dfc4b38645624215649-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38645624215649-1"><span class="crayon-r">rm</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">rf</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">dhcp</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">dhcpcd5</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">run</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">spool</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lock</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">resolv</span><span class="crayon-e">.conf</span></div><div class="crayon-line" id="crayon-5e5dfc4b38645624215649-2"><span class="crayon-r">ln</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-e">dhcp</span></div><div class="crayon-line" id="crayon-5e5dfc4b38645624215649-3"><span class="crayon-r">ln</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-e">dhcpcd5</span></div><div class="crayon-line" id="crayon-5e5dfc4b38645624215649-4"><span class="crayon-r">ln</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-e">run</span></div><div class="crayon-line" id="crayon-5e5dfc4b38645624215649-5"><span class="crayon-r">ln</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-e">spool</span></div><div class="crayon-line" id="crayon-5e5dfc4b38645624215649-6"><span class="crayon-r">ln</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-e">lock</span></div><div class="crayon-line" id="crayon-5e5dfc4b38645624215649-7"><span class="crayon-r">touch</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">dhcpcd</span><span class="crayon-e">.resolv</span><span class="crayon-e">.conf</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-r">ln</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">dhcpcd</span><span class="crayon-e">.resolv</span><span class="crayon-e">.conf</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">resolv</span><span class="crayon-e">.conf</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0032 seconds] -->
<p></p>
<h3>On Raspberry PI 3, move some lock file to temp Files System</h3>
<p>Thanks to <a href="https://community.hallard.me/user/harlock">@harlock</a> for the trick</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3864a728380867" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">nano /etc/systemd/system/dhcpcd5</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3864a728380867-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3864a728380867-1"><span class="crayon-v">nano</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">systemd</span><span class="crayon-o">/</span><span class="crayon-v">system</span><span class="crayon-o">/</span><span class="crayon-v">dhcpcd5</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>and be sure to change the line with</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3864e152699038" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">PIDFile=/run/dhcpcd.pid</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3864e152699038-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3864e152699038-1"><span class="crayon-v">PIDFile</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">run</span><span class="crayon-o">/</span><span class="crayon-v">dhcpcd</span><span class="crayon-e">.pid</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>to</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38652794106490" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">PIDFile=/var/run/dhcpcd.pid</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38652794106490-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38652794106490-1"><span class="crayon-v">PIDFile</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">run</span><span class="crayon-o">/</span><span class="crayon-v">dhcpcd</span><span class="crayon-e">.pid</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>Full file should now looks something like that (on my Jessie Lite on RPI3).</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38657932772110" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">[Unit]
Description=dhcpcd on all interfaces
Wants=network.target
Before=network.target

[Service]
Type=forking
PIDFile=/var/run/dhcpcd.pid
ExecStart=/sbin/dhcpcd -q -b
ExecStop=/sbin/dhcpcd -x

[Install]
WantedBy=multi-user.target
Alias=dhcpcd5</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -23px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-3">3</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-4">4</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-5">5</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-6">6</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-7">7</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-8">8</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-9">9</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-10">10</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-11">11</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-12">12</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-13">13</div><div class="crayon-num" data-line="crayon-5e5dfc4b38657932772110-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-1"><span class="crayon-sy">[</span><span class="crayon-v">Unit</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-2"><span class="crayon-v">Description</span><span class="crayon-o">=</span><span class="crayon-e">dhcpcd </span><span class="crayon-e">on </span><span class="crayon-e">all </span><span class="crayon-e">interfaces</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-3"><span class="crayon-v">Wants</span><span class="crayon-o">=</span><span class="crayon-v">network</span><span class="crayon-sy">.</span><span class="crayon-e">target</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-4"><span class="crayon-v">Before</span><span class="crayon-o">=</span><span class="crayon-v">network</span><span class="crayon-sy">.</span><span class="crayon-i">target</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-5">&nbsp;</div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-6"><span class="crayon-sy">[</span><span class="crayon-v">Service</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-7"><span class="crayon-v">Type</span><span class="crayon-o">=</span><span class="crayon-e">forking</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-8"><span class="crayon-v">PIDFile</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">run</span><span class="crayon-o">/</span><span class="crayon-v">dhcpcd</span><span class="crayon-sy">.</span><span class="crayon-e">pid</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-9"><span class="crayon-v">ExecStart</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">sbin</span><span class="crayon-o">/</span><span class="crayon-v">dhcpcd</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">q</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">b</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-10"><span class="crayon-v">ExecStop</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">sbin</span><span class="crayon-o">/</span><span class="crayon-v">dhcpcd</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">x</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-11">&nbsp;</div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-12"><span class="crayon-sy">[</span><span class="crayon-v">Install</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-13"><span class="crayon-v">WantedBy</span><span class="crayon-o">=</span><span class="crayon-v">multi</span><span class="crayon-o">-</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-e">target</span></div><div class="crayon-line" id="crayon-5e5dfc4b38657932772110-14"><span class="crayon-v">Alias</span><span class="crayon-o">=</span><span class="crayon-v">dhcpcd5</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p></p>
<h3></h3>
<p>On <strong>Debian jessie</strong> move 
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b3865c134504881" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-v">random</span><span class="crayon-o">-</span><span class="crayon-v">seed</span></span></span>&nbsp; file to writable location</p>
<p>remove existing file</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38660207884489" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">rm /var/lib/systemd/random-seed</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38660207884489-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38660207884489-1"><span class="crayon-r">rm</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">systemd</span><span class="crayon-o">/</span><span class="crayon-v">random</span><span class="crayon-o">-</span><span class="crayon-v">seed</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>link the random-seed file to tmpfs location</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38664632962623" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">ln -s /tmp/random-seed /var/lib/systemd/random-seed</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38664632962623-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38664632962623-1"><span class="crayon-r">ln</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">random</span><span class="crayon-o">-</span><span class="crayon-v">seed</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">systemd</span><span class="crayon-o">/</span><span class="crayon-v">random</span><span class="crayon-o">-</span><span class="crayon-v">seed</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>Since file is on tmpfs it will not be created upon, reboot, but we can do it with a kind of magic of systemd system service, this is so powerfull.</p>
<p>To create file on the tmp area at bootup before starting random-seed service, just edit the file service file to add a pre-command to execute :</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38668677623312" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">nano /lib/systemd/system/systemd-random-seed.service</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38668677623312-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38668677623312-1"><span class="crayon-v">nano</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">systemd</span><span class="crayon-o">/</span><span class="crayon-v">system</span><span class="crayon-o">/</span><span class="crayon-v">systemd</span><span class="crayon-o">-</span><span class="crayon-v">random</span><span class="crayon-o">-</span><span class="crayon-v">seed</span><span class="crayon-sy">.</span><span class="crayon-v">service</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>add the line &nbsp;
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b3866d368857698" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-v">ExecStartPre</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">random</span><span class="crayon-o">-</span><span class="crayon-v">seed</span></span></span>&nbsp; under service section, should now looks like this</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38671121375181" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">[Service]
Type=oneshot
RemainAfterExit=yes
ExecStartPre=/bin/echo "" &gt;/tmp/random-seed
ExecStart=/lib/systemd/systemd-random-seed load
ExecStop=/lib/systemd/systemd-random-seed save</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38671121375181-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b38671121375181-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b38671121375181-3">3</div><div class="crayon-num" data-line="crayon-5e5dfc4b38671121375181-4">4</div><div class="crayon-num" data-line="crayon-5e5dfc4b38671121375181-5">5</div><div class="crayon-num" data-line="crayon-5e5dfc4b38671121375181-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38671121375181-1"><span class="crayon-sy">[</span><span class="crayon-v">Service</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e5dfc4b38671121375181-2"><span class="crayon-v">Type</span><span class="crayon-o">=</span><span class="crayon-e">oneshot</span></div><div class="crayon-line" id="crayon-5e5dfc4b38671121375181-3"><span class="crayon-v">RemainAfterExit</span><span class="crayon-o">=</span><span class="crayon-e">yes</span></div><div class="crayon-line" id="crayon-5e5dfc4b38671121375181-4"><span class="crayon-v">ExecStartPre</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-i">echo</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">random</span><span class="crayon-o">-</span><span class="crayon-e">seed</span></div><div class="crayon-line" id="crayon-5e5dfc4b38671121375181-5"><span class="crayon-v">ExecStart</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">systemd</span><span class="crayon-o">/</span><span class="crayon-v">systemd</span><span class="crayon-o">-</span><span class="crayon-v">random</span><span class="crayon-o">-</span><span class="crayon-e">seed </span><span class="crayon-e">load</span></div><div class="crayon-line" id="crayon-5e5dfc4b38671121375181-6"><span class="crayon-v">ExecStop</span><span class="crayon-o">=</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">systemd</span><span class="crayon-o">/</span><span class="crayon-v">systemd</span><span class="crayon-o">-</span><span class="crayon-v">random</span><span class="crayon-o">-</span><span class="crayon-e">seed </span><span class="crayon-v">save</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>Do not use touch instead of echo, it won’t work because checking RO filesystem</p>
<p>Execute following to tell systemd we made changes</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38675195759210" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">&nbsp;systemctl daemon-reload</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38675195759210-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38675195759210-1">&nbsp;<span class="crayon-e">systemctl </span><span class="crayon-v">daemon</span><span class="crayon-o">-</span><span class="crayon-v">reload</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<h3></h3>
<h3>Setup the Internet clock sync</h3>
<p>I think this one is not needed because on new Raspbian version, the ntp daemon already do the job, but just in case</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3867a796510170" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">apt-get install ntp</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3867a796510170-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3867a796510170-1"><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-r">get</span><span class="crayon-h"> </span><span class="crayon-e">install </span><span class="crayon-v">ntp</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>and be sure to configure your time zone, with raspi-config tool</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3867e763298218" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">raspi-config</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3867e763298218-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3867e763298218-1"><span class="crayon-v">raspi</span><span class="crayon-o">-</span><span class="crayon-v">config</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>then go to menu&nbsp;“Internationalisation Options” &nbsp;then “Change Timezone” and select your time zone.</p>
<p>Edit&nbsp;the hourly cron script that save clock every hour<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b38682944420298" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">cron</span><span class="crayon-sy">.</span><span class="crayon-v">hourly</span><span class="crayon-o">/</span><span class="crayon-v">fake</span><span class="crayon-o">-</span><span class="crayon-v">hwclock</span></span></span><br>
and change it to allow saving clock. It sould become</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38686436418518" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">#!/bin/sh
#
# Simple cron script - save the current clock periodically in case of
# a power failure or other crash

if (command -v fake-hwclock &gt;/dev/null 2&gt;&amp;1) ; then
  mount -o remount,rw /
  fake-hwclock save
  mount -o remount,ro /
fi</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -23px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38686436418518-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b38686436418518-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b38686436418518-3">3</div><div class="crayon-num" data-line="crayon-5e5dfc4b38686436418518-4">4</div><div class="crayon-num" data-line="crayon-5e5dfc4b38686436418518-5">5</div><div class="crayon-num" data-line="crayon-5e5dfc4b38686436418518-6">6</div><div class="crayon-num" data-line="crayon-5e5dfc4b38686436418518-7">7</div><div class="crayon-num" data-line="crayon-5e5dfc4b38686436418518-8">8</div><div class="crayon-num" data-line="crayon-5e5dfc4b38686436418518-9">9</div><div class="crayon-num" data-line="crayon-5e5dfc4b38686436418518-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38686436418518-1"><span class="crayon-p">#!/bin/sh</span></div><div class="crayon-line" id="crayon-5e5dfc4b38686436418518-2"><span class="crayon-c">#</span></div><div class="crayon-line" id="crayon-5e5dfc4b38686436418518-3"><span class="crayon-c"># Simple cron script - save the current clock periodically in case of</span></div><div class="crayon-line" id="crayon-5e5dfc4b38686436418518-4"><span class="crayon-c"># a power failure or other crash</span></div><div class="crayon-line" id="crayon-5e5dfc4b38686436418518-5">&nbsp;</div><div class="crayon-line" id="crayon-5e5dfc4b38686436418518-6"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">command</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">v</span><span class="crayon-h"> </span><span class="crayon-v">fake</span><span class="crayon-o">-</span><span class="crayon-v">hwclock</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-t">null</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">&gt;</span><span class="crayon-o">&amp;</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">then</span></div><div class="crayon-line" id="crayon-5e5dfc4b38686436418518-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">mount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-v">remount</span><span class="crayon-sy">,</span><span class="crayon-v">rw</span><span class="crayon-h"> </span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-5e5dfc4b38686436418518-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">fake</span><span class="crayon-o">-</span><span class="crayon-e">hwclock </span><span class="crayon-e">save</span></div><div class="crayon-line" id="crayon-5e5dfc4b38686436418518-9"><span class="crayon-e">&nbsp;&nbsp;</span><span class="crayon-v">mount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-v">remount</span><span class="crayon-sy">,</span><span class="crayon-v">ro</span><span class="crayon-h"> </span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-5e5dfc4b38686436418518-10"><span class="crayon-st">fi</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p>Edit the the file 
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b3868a344811307" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">ntp</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span></span></span>&nbsp; to set redirect 
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b3868e822990440" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-v">driftfile</span></span></span>&nbsp; to writable zone&nbsp;
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b38692659460529" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">tmp</span></span></span>&nbsp;. My file was like this</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38696061770895" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick"># /etc/ntp.conf, configuration for ntpd; see ntp.conf(5) for help

driftfile /var/lib/ntp/ntp.drift</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38696061770895-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b38696061770895-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b38696061770895-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38696061770895-1"><span class="crayon-c"># /etc/ntp.conf, configuration for ntpd; see ntp.conf(5) for help</span></div><div class="crayon-line" id="crayon-5e5dfc4b38696061770895-2">&nbsp;</div><div class="crayon-line" id="crayon-5e5dfc4b38696061770895-3"><span class="crayon-v">driftfile</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">ntp</span><span class="crayon-o">/</span><span class="crayon-v">ntp</span><span class="crayon-e">.drift</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>I changed to this, thanks to Gregor for the tip.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3869b709199832" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick"># /etc/ntp.conf, configuration for ntpd; see ntp.conf(5) for help

driftfile /var/tmp/ntp.drift</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3869b709199832-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b3869b709199832-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b3869b709199832-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3869b709199832-1"><span class="crayon-c"># /etc/ntp.conf, configuration for ntpd; see ntp.conf(5) for help</span></div><div class="crayon-line" id="crayon-5e5dfc4b3869b709199832-2">&nbsp;</div><div class="crayon-line" id="crayon-5e5dfc4b3869b709199832-3"><span class="crayon-v">driftfile</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">tmp</span><span class="crayon-o">/</span><span class="crayon-v">ntp</span><span class="crayon-e">.drift</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>&nbsp;</p>
<h3>Remove some startup scripts</h3>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3869f162118965" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">insserv -r bootlogs; insserv -r console-setup</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3869f162118965-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3869f162118965-1"><span class="crayon-v">insserv</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">r</span><span class="crayon-h"> </span><span class="crayon-v">bootlogs</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">insserv</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">r</span><span class="crayon-h"> </span><span class="crayon-v">console</span><span class="crayon-o">-</span><span class="crayon-v">setup</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>Now time to tell the mounted filesystem that we’re in read-only mode</p>
<p>Add “,ro” flag to both block devices in<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b386a3123530300" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">fstab</span></span></span><br>
to tell the system to mount them read-only:</p>
<p>edit the file<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b386a7234920328" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">fstab</span></span></span><br>
mine was :</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b386ab856895492" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">proc            /proc           proc    defaults          0       0
/dev/mmcblk0p1  /boot           vfat    defaults          0       2
/dev/mmcblk0p2  /               ext4    defaults,noatime  0       1</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b386ab856895492-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b386ab856895492-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b386ab856895492-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b386ab856895492-1"><span class="crayon-v">proc</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">/</span><span class="crayon-e">proc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">proc&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">defaults</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5e5dfc4b386ab856895492-2"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-v">mmcblk0p1</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">/</span><span class="crayon-e">boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">vfat&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">defaults</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5e5dfc4b386ab856895492-3"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-v">mmcblk0p2</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">/</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">ext4&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">defaults</span><span class="crayon-sy">,</span><span class="crayon-i">noatime</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">1</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>And after modifications it is :</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b386af134540133" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">proc            /proc           proc    defaults             0       0
/dev/mmcblk0p1  /boot           vfat    defaults,ro          0       2
/dev/mmcblk0p2  /               ext4    defaults,noatime,ro  0       1

# For Debian Jessie 
tmpfs           /tmp            tmpfs   nosuid,nodev         0       0
tmpfs           /var/log        tmpfs   nosuid,nodev         0       0
tmpfs           /var/tmp        tmpfs   nosuid,nodev         0       0</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b386af134540133-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b386af134540133-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b386af134540133-3">3</div><div class="crayon-num" data-line="crayon-5e5dfc4b386af134540133-4">4</div><div class="crayon-num" data-line="crayon-5e5dfc4b386af134540133-5">5</div><div class="crayon-num" data-line="crayon-5e5dfc4b386af134540133-6">6</div><div class="crayon-num" data-line="crayon-5e5dfc4b386af134540133-7">7</div><div class="crayon-num" data-line="crayon-5e5dfc4b386af134540133-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b386af134540133-1"><span class="crayon-v">proc</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">/</span><span class="crayon-e">proc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">proc&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">defaults</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5e5dfc4b386af134540133-2"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-v">mmcblk0p1</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">/</span><span class="crayon-e">boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">vfat&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">defaults</span><span class="crayon-sy">,</span><span class="crayon-i">ro</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5e5dfc4b386af134540133-3"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-v">mmcblk0p2</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">/</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">ext4&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">defaults</span><span class="crayon-sy">,</span><span class="crayon-v">noatime</span><span class="crayon-sy">,</span><span class="crayon-i">ro</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5e5dfc4b386af134540133-4">&nbsp;</div><div class="crayon-line" id="crayon-5e5dfc4b386af134540133-5"><span class="crayon-p"># For Debian Jessie </span></div><div class="crayon-line" id="crayon-5e5dfc4b386af134540133-6"><span class="crayon-v">tmpfs</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">/</span><span class="crayon-e">tmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">tmpfs&nbsp;&nbsp; </span><span class="crayon-v">nosuid</span><span class="crayon-sy">,</span><span class="crayon-i">nodev</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5e5dfc4b386af134540133-7"><span class="crayon-v">tmpfs</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-e">log&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">tmpfs&nbsp;&nbsp; </span><span class="crayon-v">nosuid</span><span class="crayon-sy">,</span><span class="crayon-i">nodev</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5e5dfc4b386af134540133-8"><span class="crayon-v">tmpfs</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-e">tmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">tmpfs&nbsp;&nbsp; </span><span class="crayon-v">nosuid</span><span class="crayon-sy">,</span><span class="crayon-i">nodev</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">0</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p></p>
<h2>We done, reboot</h2>
<p>That’s it, you should now be able to reboot your Pi</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b386b4654742343" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">reboot</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b386b4654742343-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b386b4654742343-1"><span class="crayon-v">reboot</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>If all went fine, it should boot. Well, on mine it rebooted fine and ambilight was still working, then I ssh’ed onto and issued</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b386b8805812201" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">root@ambilight:~# mount | grep /dev/root
/dev/root on / type ext4 (ro,noatime,data=ordered)
root@ambilight:~#</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b386b8805812201-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b386b8805812201-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b386b8805812201-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b386b8805812201-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">ambilight</span><span class="crayon-o">:</span><span class="crayon-o">~</span><span class="crayon-c"># mount | grep /dev/root</span></div><div class="crayon-line" id="crayon-5e5dfc4b386b8805812201-2"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-e">root </span><span class="crayon-v">on</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-r">type</span><span class="crayon-h"> </span><span class="crayon-e">ext4</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ro</span><span class="crayon-sy">,</span><span class="crayon-v">noatime</span><span class="crayon-sy">,</span><span class="crayon-v">data</span><span class="crayon-o">=</span><span class="crayon-v">ordered</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e5dfc4b386b8805812201-3"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">ambilight</span><span class="crayon-o">:</span><span class="crayon-o">~</span><span class="crayon-c">#</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>you can see root is ro mode</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b386bc694814961" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">root@ambilight:~# mount | grep /dev/mmc
/dev/mmcblk0p1 on /boot type vfat (ro,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,errors=remount-ro)
root@ambilight:~#</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b386bc694814961-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b386bc694814961-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b386bc694814961-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b386bc694814961-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">ambilight</span><span class="crayon-o">:</span><span class="crayon-o">~</span><span class="crayon-p"># mount | grep /dev/mmc</span></div><div class="crayon-line" id="crayon-5e5dfc4b386bc694814961-2"><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-e">mmcblk0p1 </span><span class="crayon-v">on</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-e">boot </span><span class="crayon-e">type </span><span class="crayon-e">vfat</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ro</span><span class="crayon-sy">,</span><span class="crayon-v">relatime</span><span class="crayon-sy">,</span><span class="crayon-v">fmask</span><span class="crayon-o">=</span><span class="crayon-cn">0022</span><span class="crayon-sy">,</span><span class="crayon-v">dmask</span><span class="crayon-o">=</span><span class="crayon-cn">0022</span><span class="crayon-sy">,</span><span class="crayon-v">codepage</span><span class="crayon-o">=</span><span class="crayon-cn">437</span><span class="crayon-sy">,</span><span class="crayon-v">iocharset</span><span class="crayon-o">=</span><span class="crayon-v">ascii</span><span class="crayon-sy">,</span><span class="crayon-v">shortname</span><span class="crayon-o">=</span><span class="crayon-v">mixed</span><span class="crayon-sy">,</span><span class="crayon-v">errors</span><span class="crayon-o">=</span><span class="crayon-v">remount</span><span class="crayon-o">-</span><span class="crayon-v">ro</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e5dfc4b386bc694814961-3"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">ambilight</span><span class="crayon-o">:</span><span class="crayon-o">~</span><span class="crayon-p">#</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p>and /boot (fat part of the SD) is also ro mode, great !!!</p>
<p>In case of problem, look at syslog (or logread) and try to find out why. You can try to fix plugging the SD card in a different computer.</p>
<h1>Switching from Read-Only mode to Read-Write and vice-versa</h1>
<p>Now you’re in read only mode it’s fine and safe, but if you need to install, write or modify files, upgrade, or whatever that need write access, you need to be able to do it, we’ll add this possibility and in visual mode</p>
<p>To set system to Read-Write use<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b386c1189383990" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-v">mount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-v">remount</span><span class="crayon-sy">,</span><span class="crayon-v">rw</span><span class="crayon-h"> </span><span class="crayon-o">/</span></span></span><br>
and to set it back to Read-Only<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b386c7818478971" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-v">mount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-v">remount</span><span class="crayon-sy">,</span><span class="crayon-v">ro</span><span class="crayon-h"> </span><span class="crayon-o">/</span></span></span><br>
but I do not remember this tricky syntax and decided to improve things a little. I want to have two simple commands like<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b386cd257607394" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-v">ro</span></span></span><br>
for setting mode to read only and<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b386d3971591629" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-v">rw</span></span></span><br>
to enable read write mode. I also wanted to know on which mode I am on command prompt.</p>
<h3>Add fancy indicating features</h3>
<p>Ok for all users just edit the file<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b386d9760025741" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">bash</span><span class="crayon-sy">.</span><span class="crayon-v">bashrc</span></span></span><br>
and at the end add the following lines</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b386df431408437" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span title="Contains Mixed Languages" class="crayon-mixed-highlight"></span><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick"># set variable identifying the filesystem you work in (used in the prompt below)
set_bash_prompt(){
    fs_mode=$(mount | sed -n -e "s/^\/dev\/.* on \/ .*(\(r[w|o]\).*/\1/p")
    PS1='\[\033[01;32m\]\u@\h${fs_mode:+($fs_mode)}\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
}

alias ro='sudo mount -o remount,ro / ; sudo mount -o remount,ro /boot'
alias rw='sudo mount -o remount,rw / ; sudo mount -o remount,rw /boot'

# setup fancy prompt"
PROMPT_COMMAND=set_bash_prompt</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -23px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-3">3</div><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-4">4</div><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-5">5</div><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-6">6</div><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-7">7</div><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-8">8</div><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-9">9</div><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-10">10</div><div class="crayon-num" data-line="crayon-5e5dfc4b386df431408437-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-1"><span class="crayon-c"># set variable identifying the filesystem you work in (used in the prompt below)</span></div><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-2"><span class="crayon-e">set_bash_prompt</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fs_mode</span><span class="crayon-o">=</span><span class="crayon-sy">$</span><span class="crayon-sy">(</span><span class="crayon-v">mount</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-r">sed</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">n</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">e</span><span class="crayon-h"> </span><span class="crayon-s">"s/^\/dev\/.* on \/ .*(<span class="crayon-sy">\</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">[</span><span class="crayon-v">w</span><span class="crayon-o">|</span><span class="crayon-v">o</span><span class="crayon-sy">]</span><span class="crayon-sy">\</span><span class="crayon-sy">)</span>.*/\1/p"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">PS1</span><span class="crayon-o">=</span><span class="crayon-s">'\[\033[01;32m\]\u@\h${fs_mode:+($fs_mode)}\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '</span></div><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-5"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-6">&nbsp;</div><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-7"><span class="crayon-r">alias</span><span class="crayon-h"> </span><span class="crayon-v">ro</span><span class="crayon-o">=</span><span class="crayon-s">'sudo mount -o remount,ro / ; sudo mount -o remount,ro /boot'</span></div><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-8"><span class="crayon-r">alias</span><span class="crayon-h"> </span><span class="crayon-v">rw</span><span class="crayon-o">=</span><span class="crayon-s">'sudo mount -o remount,rw / ; sudo mount -o remount,rw /boot'</span></div><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-9">&nbsp;</div><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-10"><span class="crayon-c"># setup fancy prompt"</span></div><div class="crayon-line" id="crayon-5e5dfc4b386df431408437-11"><span class="crayon-v">PROMPT_COMMAND</span><span class="crayon-o">=</span><span class="crayon-v">set_bash_prompt</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0031 seconds] -->
<p>Execute this new file and look at the magic, the prompt has also changed and show up file system state</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b386e5659936780" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">root@ambilight:/var/log# . /etc/bash.bashrc
root@ambilight(rw):/var/log# ro
root@ambilight(ro):/var/log# touch test.txt
touch: cannot touch `test.txt': Read-only file system
root@ambilight(ro):/var/log# rw
root@ambilight(rw):/var/log# touch test.txt
root@ambilight(rw):/var/log# ro
root@ambilight(ro):/var/log#</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b386e5659936780-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b386e5659936780-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b386e5659936780-3">3</div><div class="crayon-num" data-line="crayon-5e5dfc4b386e5659936780-4">4</div><div class="crayon-num" data-line="crayon-5e5dfc4b386e5659936780-5">5</div><div class="crayon-num" data-line="crayon-5e5dfc4b386e5659936780-6">6</div><div class="crayon-num" data-line="crayon-5e5dfc4b386e5659936780-7">7</div><div class="crayon-num" data-line="crayon-5e5dfc4b386e5659936780-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b386e5659936780-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">ambilight</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-p"># . /etc/bash.bashrc</span></div><div class="crayon-line" id="crayon-5e5dfc4b386e5659936780-2"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">ambilight</span><span class="crayon-sy">(</span><span class="crayon-v">rw</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-p"># ro</span></div><div class="crayon-line" id="crayon-5e5dfc4b386e5659936780-3"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">ambilight</span><span class="crayon-sy">(</span><span class="crayon-v">ro</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-p"># touch test.txt</span></div><div class="crayon-line" id="crayon-5e5dfc4b386e5659936780-4"><span class="crayon-v">touch</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">cannot </span><span class="crayon-i">touch</span><span class="crayon-h"> </span><span class="crayon-sy">`</span><span class="crayon-v">test</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span>'<span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Read</span><span class="crayon-o">-</span><span class="crayon-e">only </span><span class="crayon-e">file </span><span class="crayon-e">system</span></div><div class="crayon-line" id="crayon-5e5dfc4b386e5659936780-5"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">ambilight</span><span class="crayon-sy">(</span><span class="crayon-v">ro</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-p"># rw</span></div><div class="crayon-line" id="crayon-5e5dfc4b386e5659936780-6"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">ambilight</span><span class="crayon-sy">(</span><span class="crayon-v">rw</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-p"># touch test.txt</span></div><div class="crayon-line" id="crayon-5e5dfc4b386e5659936780-7"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">ambilight</span><span class="crayon-sy">(</span><span class="crayon-v">rw</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-p"># ro</span></div><div class="crayon-line" id="crayon-5e5dfc4b386e5659936780-8"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-e">ambilight</span><span class="crayon-sy">(</span><span class="crayon-v">ro</span><span class="crayon-sy">)</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-p">#</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
<p></p>
<h3>Use logout to save history and force Read-Only mode</h3>
<p>To be sure to avoid setting back to Read-Only at logout, add the following line to the file<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b386ec180767102" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">bash</span><span class="crayon-sy">.</span><span class="crayon-v">bash_logout</span></span></span><br>
(may be you need to create it)</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b386f7076656211" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">mount -o remount,ro /
mount -o remount,ro /boot</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b386f7076656211-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b386f7076656211-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b386f7076656211-1"><span class="crayon-v">mount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-v">remount</span><span class="crayon-sy">,</span><span class="crayon-v">ro</span><span class="crayon-h"> </span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-5e5dfc4b386f7076656211-2"><span class="crayon-v">mount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-v">remount</span><span class="crayon-sy">,</span><span class="crayon-v">ro</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">boot</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>If you want to have your bash history file saved and last known good date, also, put these lines instead</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b386fb178651465" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">mount -o remount,rw /
history -a
fake-hwclock save
mount -o remount,ro /
mount -o remount,ro /boot</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b386fb178651465-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b386fb178651465-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b386fb178651465-3">3</div><div class="crayon-num" data-line="crayon-5e5dfc4b386fb178651465-4">4</div><div class="crayon-num" data-line="crayon-5e5dfc4b386fb178651465-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b386fb178651465-1"><span class="crayon-v">mount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-v">remount</span><span class="crayon-sy">,</span><span class="crayon-v">rw</span><span class="crayon-h"> </span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-5e5dfc4b386fb178651465-2"><span class="crayon-v">history</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">a</span></div><div class="crayon-line" id="crayon-5e5dfc4b386fb178651465-3"><span class="crayon-v">fake</span><span class="crayon-o">-</span><span class="crayon-e">hwclock </span><span class="crayon-e">save</span></div><div class="crayon-line" id="crayon-5e5dfc4b386fb178651465-4"><span class="crayon-v">mount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-v">remount</span><span class="crayon-sy">,</span><span class="crayon-v">ro</span><span class="crayon-h"> </span><span class="crayon-o">/</span></div><div class="crayon-line" id="crayon-5e5dfc4b386fb178651465-5"><span class="crayon-v">mount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">o</span><span class="crayon-h"> </span><span class="crayon-v">remount</span><span class="crayon-sy">,</span><span class="crayon-v">ro</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">boot</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>Of course you can also enhance the system like changing colors and/or set file system to read only after a certain amount of time. It’s just the way I’m using it.</p>
<p>PS : depending on your configuration, you may have set prompt elsewhere after 
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b38700255705480" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">bash</span><span class="crayon-sy">.</span><span class="crayon-v">bashrc</span></span></span>&nbsp;is executed (
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b38704057875837" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">bashrc</span></span></span>&nbsp;for example), that would cause overriding the settings of&nbsp;
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b38708451718285" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">bash</span><span class="crayon-sy">.</span><span class="crayon-v">bashrc</span></span></span>. So if it does not work, test by putting the lines at the end of the user 
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b3870d362143796" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">bashrc</span></span></span>&nbsp;&nbsp;profile file (
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b38711220505943" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">root</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-v">bashrc</span></span></span>&nbsp;for root)</p>
<h1>Bonus : health check using Watchdog</h1>
<p>If you follow my blog, you probably know that I’m using micro-controller day by day. I love the watchdog feature they have and reading original K3A post, I saw we can do the same on Raspberry, so I decided to give it a try of course.</p>
<p><strong><span style="color: #ff6600;">It’s for advanced users, be sure knowing what you do if you don’t want your Pi going into reset loop,&nbsp;</span></strong><span style="color: #ff6600;"><span style="color: #000000;">most users don’t need this.</span></span></p>
<p>Set system to Read-Write before executing these commands, you sure remember this ?</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38715440107695" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">rw</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38715440107695-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38715440107695-1"><span class="crayon-v">rw</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>Enable watchdog module :</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3871a970490359" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">modprobe bcm2708_wdog; apt-get install watchdog</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3871a970490359-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3871a970490359-1"><span class="crayon-e">modprobe </span><span class="crayon-v">bcm2708_wdog</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-e">install </span><span class="crayon-v">watchdog</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>Edit the file and<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b3871e843225118" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">watchdog</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span></span></span><br>
add the following lines at the end of the file</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38722620161371" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">watchdog-device  = /dev/watchdog
max-load-15      = 25  
watchdog-timeout = 10</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38722620161371-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b38722620161371-2">2</div><div class="crayon-num" data-line="crayon-5e5dfc4b38722620161371-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38722620161371-1"><span class="crayon-v">watchdog</span><span class="crayon-o">-</span><span class="crayon-v">device</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">dev</span><span class="crayon-o">/</span><span class="crayon-e">watchdog</span></div><div class="crayon-line" id="crayon-5e5dfc4b38722620161371-2"><span class="crayon-v">max</span><span class="crayon-o">-</span><span class="crayon-v">load</span><span class="crayon-o">-</span><span class="crayon-cn">15</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">25</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5e5dfc4b38722620161371-3"><span class="crayon-v">watchdog</span><span class="crayon-o">-</span><span class="crayon-v">timeout</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>On raspbian before jessie (old system init.d) set the watchdog to start at boot and start it now:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38726838786386" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">insserv watchdog;&nbsp;/etc/init.d/watchdog start</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38726838786386-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38726838786386-1"><span class="crayon-e">insserv </span><span class="crayon-v">watchdog</span><span class="crayon-sy">;</span>&nbsp;<span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">init</span><span class="crayon-sy">.</span><span class="crayon-v">d</span><span class="crayon-o">/</span><span class="crayon-e">watchdog </span><span class="crayon-v">start</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>On Jessie edit the file 
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b3872a879330598" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">lib</span><span class="crayon-o">/</span><span class="crayon-v">systemd</span><span class="crayon-o">/</span><span class="crayon-v">system</span><span class="crayon-o">/</span><span class="crayon-v">watchdog</span><span class="crayon-sy">.</span><span class="crayon-v">service</span></span></span>&nbsp;&nbsp;and in&nbsp;section 
			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b3872e132427082" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-sy">[</span><span class="crayon-v">Install</span><span class="crayon-sy">]</span></span></span>&nbsp; add the following</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38732525497639" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">[Install]
WantedBy=multi-user.target</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38732525497639-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b38732525497639-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38732525497639-1"><span class="crayon-sy">[</span><span class="crayon-v">Install</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e5dfc4b38732525497639-2"><span class="crayon-v">WantedBy</span><span class="crayon-o">=</span><span class="crayon-v">multi</span><span class="crayon-o">-</span><span class="crayon-v">user</span><span class="crayon-sy">.</span><span class="crayon-v">target</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>Always on Jessie, enable it by</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38736731071397" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">systemctl enable watchdog</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38736731071397-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38736731071397-1"><span class="crayon-e">systemctl </span><span class="crayon-e">enable </span><span class="crayon-v">watchdog</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>In addition to the watchdog, you should set up reboot after a kernel panic. This is done by editing<br>

			<span class="crayon-syntax crayon-syntax-inline  crayon-theme-ado crayon-theme-ado-inline crayon-font-ubuntu-mono" id="crayon-5e5dfc4b3873a860364069" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">sysctl</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span></span></span><br>
. Add this line:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b3873e861809755" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">kernel.panic = 10</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b3873e861809755-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b3873e861809755-1"><span class="crayon-v">kernel</span><span class="crayon-sy">.</span><span class="crayon-v">panic</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>This will cause to wait 10 seconds after a kernel panic, then automatically safely reboot the box.</p>
<h2>Last test and validation</h2>
<p>As last operation, set back to Read-Only and reboot the Pi</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div class="crayon-syntax crayon-theme-ado crayon-font-ubuntu-mono crayon-os-pc print-yes notranslate" id="crayon-5e5dfc4b38742823632813" style="height: auto; line-height: 15px !important; font-size: 12px !important; margin-top: 12px; margin-bottom: 12px;" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;" data-settings=" show"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div title="Toggle Plain Code" class="crayon-button crayon-plain-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Expand Code" class="crayon-button crayon-expand-button" style="display: none;"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Copy" class="crayon-button crayon-copy-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div><div title="Open Code In New Window" class="crayon-button crayon-popup-button"><div class="crayon-button-icon" style='background-image: url("https://hallard.me/blog/wp-content/plugins/crayon-syntax-highlighter/css/images/toolbar/buttons@2x.png"); background-size: 48px 128px;'></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" style="line-height: 15px !important; overflow: hidden; font-size: 12px !important; z-index: 0; opacity: 0;" wrap="soft" readonly="" data-settings="dblclick">ro
reboot</textarea></div>
			<div class="crayon-main" style="overflow: hidden; position: relative; z-index: 1;">
				<table class="crayon-table" style="margin-left: -17px;">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="hide">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e5dfc4b38742823632813-1">1</div><div class="crayon-num" data-line="crayon-5e5dfc4b38742823632813-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:2; -o-tab-size:2; -webkit-tab-size:2; tab-size:2;"><div class="crayon-line" id="crayon-5e5dfc4b38742823632813-1"><span class="crayon-e">ro</span></div><div class="crayon-line" id="crayon-5e5dfc4b38742823632813-2"><span class="crayon-v">reboot</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<h1>References</h1>
<p>Has I already said, I followed the original author (K3A) and just added some features I needed. Now that I have one Pi in this mode, I will update all my Pi and may be I need to add some modifications or enhancement not seen yet. If this the case I will update this post, so stay tuned.</p>
<p>If you want to see more precise explanations, I strongly suggest to read the excellent original K3A article located <a href="http://k3a.me/how-to-make-raspberrypi-truly-read-only-reliable-and-trouble-free/">here</a></p>
<p>Thank’s to <a href="http://raspbian-france.fr/" target="_blank" rel="noopener noreferrer">Raspbian France</a>&nbsp;for providing this article image.</p>
<p>&nbsp;</p>
			<!-- .entry-content --></div>

	<footer class="entry-meta entry-footer">
		<span class="cat-links"><i class="ico-folder"></i> <a href="https://hallard.me/category/linux/" rel="category tag">Linux</a>, <a href="https://hallard.me/category/raspberry/" rel="category tag">Raspberry</a>, <a href="https://hallard.me/category/tutorial/" rel="category tag">Tutorial</a></span><span class="tags-links"><i class="ico-tags"></i> <a href="https://hallard.me/tag/card/" rel="tag">card</a>, <a href="https://hallard.me/tag/end/" rel="tag">end</a>, <a href="https://hallard.me/tag/filesystem/" rel="tag">filesystem</a>, <a href="https://hallard.me/tag/life/" rel="tag">life</a>, <a href="https://hallard.me/tag/log/" rel="tag">log</a>, <a href="https://hallard.me/tag/mount/" rel="tag">mount</a>, <a href="https://hallard.me/tag/of/" rel="tag">of</a>, <a href="https://hallard.me/tag/only/" rel="tag">only</a>, <a href="https://hallard.me/tag/pi/" rel="tag">pi</a>, <a href="https://hallard.me/tag/protection/" rel="tag">protection</a>, <a href="https://hallard.me/tag/raspberry-2/" rel="tag">raspberry</a>, <a href="https://hallard.me/tag/read/" rel="tag">read</a>, <a href="https://hallard.me/tag/rootfs/" rel="tag">rootfs</a>, <a href="https://hallard.me/tag/sd/" rel="tag">SD</a>, <a href="https://hallard.me/tag/secure/" rel="tag">secure</a></span>	<!-- .entry-meta --></footer>
<!-- #post-1006 --></article>
